webpackJsonp([16],{922:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(600),r=n(l),i=a(783),u=a(777),d=n(u),o=a(923),p=n(o),m=i.DatePicker.MonthPicker,c=i.Form.Item,f=i.Radio.Button,h=i.Radio.Group,y=r.default.createClass({displayName:"PushTime",getInitialState:function(){var e=this.props.router,t=this.props.defaultDay,a=864e5,n=new Date,s="userdata"===e?6:0;s=t?t:s;var l=new Date(+new Date-s*a),r=d.default.dateFormat("yyyy-MM-dd",l),i=d.default.dateParse(r+" 00:00:00");return{startTimeStatus:"success",endTimeStatus:"success",startTime:i,endTime:n,display:"none",errorTips:"",pushTimeType:t||0}},changeRadio:function(e){var t=e.target.value,a=+new Date,n=864e5,s={pushTimeType:t};if(1===t?s.endTime=new Date(a-Number(t)*n):s.endTime=new Date,"number"==typeof t){s.startTime=new Date(a-Number(t)*n);var l=d.default.dateFormat("yyyy-MM-dd",s.startTime);s.startTime=d.default.dateParse(l+" 00:00:00"),1===t&&(s.endTime=d.default.dateParse(l+" 23:59:59")),s.display="none",s.startTimeStatus="success",s.endTimeStatus="success",s.errorTips=""}else s.startTime=new Date;this.setState(s),this.props.form.setFieldsValue(s)},componentDidMount:function(){"userdata"===this.props.router&&this.setState({pushTimeType:6})},onOpen:function(){this.setState({pushTimeType:"other"})},changeStartTime:function(e){var t=this.props.router,a=this.props.required,n=this.props.dateType,s="month"===n?"endTimeMonth":"endTime",l={router:t,required:a},r=this.props.form.getFieldValue(s),i=p.default.changeStartTime(e,r,l);this.setState(i)},changeEndTime:function(e){var t=e.getFullYear(),a=e.getMonth()+1,n=this.props.required,s=this.props.dateType,l="startTime";"month"===s&&(l="startTimeMonth",e=d.default.dateParse(t+"-"+a+"-31 23:59:59"));var r={required:n},i=this.props.form.getFieldValue(l),u=p.default.changeEndTime(e,i,r);this.setState(u)},render:function(){var e="",t=this.props.dateType,a=this.props.type,n=this.props.router,l=this.props.hiddenTitle;"second"===a&&(e=" H:mm:ss");var u="yyyy-MM-dd"+e;u="month"===t?"yyyy-MM":u;var d=this.props.form.getFieldProps,o=l?"":r.default.createElement("span",null,"时间");return r.default.createElement(c,{className:"radio_btn",labelCol:{span:2},wrapperCol:{span:22},label:o},"personal"===n?null:r.default.createElement(h,{onChange:this.changeRadio,value:this.state.pushTimeType,size:"large",style:{marginRight:10}},"userdata"===n||"averagePush"===n?null:r.default.createElement(f,{value:0},"今天"),"userdata"===n?null:r.default.createElement(f,{value:1},"昨天"),"averagePush"===n?r.default.createElement(f,{value:2},"前天"):null,"analyze"===n||"averagePush"===n?null:r.default.createElement(f,{value:6},"最近7天"),"analyze"===n||"averagePush"===n?null:r.default.createElement(f,{value:30},"最近30天"),r.default.createElement(f,{value:"other"},"选择日期")),r.default.createElement(c,{validateStatus:this.state.startTimeStatus,className:"display_ib va_t mg0"},"month"===t?r.default.createElement(m,d("startTimeMonth",{initialValue:this.state.startTime,onChange:this.changeStartTime})):r.default.createElement(i.DatePicker,s({},d("startTime",{initialValue:this.state.startTime,onChange:this.changeStartTime}),{toggleOpen:this.onOpen,showTime:!0,format:u}))),"analyze"===n||"averagePush"===n?null:r.default.createElement("span",{className:"pl10 pr10"},"至"),"analyze"===n||"averagePush"===n?null:r.default.createElement(c,{validateStatus:this.state.endTimeStatus,className:"display_ib va_t mg0"},"month"===t?r.default.createElement(m,d("endTimeMonth",{initialValue:this.state.endTime,onChange:this.changeEndTime})):r.default.createElement(i.DatePicker,s({},d("endTime",{initialValue:this.state.endTime,onChange:this.changeEndTime}),{toggleOpen:this.onOpen,showTime:!0,format:u}))),r.default.createElement("span",{style:{display:this.state.display},className:"color_error pl10"},this.state.errorTips))}});e.exports=y},1349:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=a(600),l=n(s),r=a(1350),i=n(r),u=a(776),d=n(u),o=a(777),p=n(o),m=a(785),c=n(m),f=l.default.createClass({displayName:"App",getInitialState:function(){return{current:1,tableData:{loading:!0,data:[],pagination:null}}},tableData:function(e,t){var a=this;this.setState({tableData:{loading:!0}});var n={index:e.index,startTime:e.startTime,endTime:e.endTime},s=e.appId;s&&"0"!==s&&(n.appId=e.appId);var l=p.default.makeUrl(t,n);c.default.get(l,function(s){var l=s.value.result;l.map(function(e,t){l[t].key=t}),a.setState({tableData:{data:l,loading:!1,pagination:{total:s.value.amount,current:e.index,pageSize:10,showSizeChanger:!1,onChange:function(e){n.index=e,a.setState({current:e}),a.tableData(n,t)}}}})})},componentDidMount:function(){var e={index:1,startTime:p.default.dateFormat("yyyy-MM-dd",new Date(+new Date-5184e5)),endTime:p.default.dateFormat("yyyy-MM-dd",new Date)};this.tableData(e,d.default.dailyPushCount)},render:function(){return l.default.createElement("div",null,l.default.createElement(i.default,{refresh:this.state.refresh,tableData:this.state.tableData,onSearch:this.tableData}))}});e.exports=f},1350:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=a(600),r=n(l),i=a(783),u=a(922),d=n(u),o=a(776),p=n(o),m=a(785),c=n(m),f=a(777),h=n(f),y=a(799),T=n(y),g=a(1351),v=n(g),E=a(1352),b=n(E),D=a(1353),N=n(D),S=i.Form.Item,_=i.Tabs.TabPane,I={labelCol:{span:8},wrapperCol:{span:16}},x=r.default.createClass({displayName:"AddAppTask",getInitialState:function(){return{initData:{},values:[],startTimeStatus:"success",endTimeStatus:"success",data:null,appName:"全部应用",noticeBarType:"0",noticeExpandType:"0",pushTimeType:6,errors:{},restapi:p.default.dailyPushCount,defaultAppid:"应用",randomUser:1,appId:0,startTime:new Date(+new Date-5184e5),endTime:new Date}},componentWillMount:function(){var e=this,t=h.default.queryString("id",window.location.href);t&&e.props.form.setFieldsValue({appId:t})},selectType:function(e,t){this.props.form.setFieldsValue({appId:e}),this.setState({appId:e,appName:t})},handleSubmit:function(e){var t=this,a=this;e.preventDefault();var n=this.state.appId;this.props.form.validateFields(function(e,s){if(""!==a.state.display){if(e)return void console.log("Errors in form!!!");s.index=1,s.startTime=h.default.dateFormat("yyyy-MM-dd",s.startTime),s.endTime=h.default.dateFormat("yyyy-MM-dd",s.endTime),n&&"0"!==n&&(s.appId=n);for(var l in s)""===s[l]&&delete s[l];t.props.onSearch(s,t.state.restapi)}})},onChange:function(e){var t=this.state.appId,a={index:1,startTime:h.default.dateFormat("yyyy-MM-dd",this.props.form.getFieldValue("startTime")),endTime:h.default.dateFormat("yyyy-MM-dd",this.props.form.getFieldValue("endTime"))},n=p.default.dailyPushCount;"2"===e&&(n=p.default.dailyUserCount),"3"===e&&(n=p.default.dailyKPICount),this.setState({restapi:n}),t&&"0"!==t&&(a.appId=t),this.props.onSearch(a,n)},componentDidMount:function(){var e=this,t=p.default.appCount;c.default.get(t,function(t){var a=t.value;e.setState({totalAppNum:a.totalAppNum,totalDeveloperNum:a.totalDeveloperNum})})},render:function(){var e={api:p.default.listUserApp,width:"190",all:"全部应用",appName:this.state.appName,name:"appId",appId:this.state.appId},t=r.default.createElement("div",{className:"platform_data_operations"},r.default.createElement("span",{className:"developer_num"},"开发者数量",r.default.createElement("span",{className:"num"},this.state.totalDeveloperNum)),r.default.createElement("span",{className:"app_num"},"接入应用数",r.default.createElement("span",{className:"num"},this.state.totalAppNum)));return r.default.createElement(i.Form,{horizontal:!0},r.default.createElement(i.Row,null,r.default.createElement(i.Col,{span:"24"},r.default.createElement(d.default,{router:"userdata",type:"day",form:this.props.form}))),r.default.createElement(i.Row,null,r.default.createElement(i.Col,{span:"6"},r.default.createElement(S,{labelCol:{span:8},wrapperCol:{span:16},label:"应用名称"},r.default.createElement(T.default.render,{notFoundContent:"无数据",showSearch:!0,searchPlaceholder:"搜索应用名称",selectType:this.selectType,initData:e}))),r.default.createElement(i.Col,{span:"6"},r.default.createElement(S,s({},I,{label:""}),r.default.createElement(i.Button,{className:"ml10",type:"primary",onClick:this.handleSubmit,size:"large"},"查询")))),r.default.createElement(i.Tabs,{onChange:this.onChange,tabBarExtraContent:t,className:"platform_data"},r.default.createElement(_,{tab:"推送量",key:"1"},r.default.createElement(v.default,{refresh:this.props.refresh,tableData:this.props.tableData})),r.default.createElement(_,{tab:"SDK用户数",key:"2"},r.default.createElement(b.default,{refresh:this.props.refresh,tableData:this.props.tableData})),r.default.createElement(_,{tab:"KPI",key:"3"},r.default.createElement(N.default,{refresh:this.props.refresh,tableData:this.props.tableData}))))}});x=i.Form.create()(x),e.exports=x},1351:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=a(600),l=n(s),r=a(783),i=l.default.createClass({displayName:"App",getInitialState:function(){return{columns:[{title:"日期",key:"0",className:"ta_c",dataIndex:"date"},{title:"推送应用数",key:"1",className:"ta_c",dataIndex:"appsNo"},{title:"推送用户数",key:"2",className:"ta_r",dataIndex:"totalUserNo"},{title:"推送量",key:"3",className:"ta_r",dataIndex:"totalPushNo"}],refresh:!1}},render:function(){return l.default.createElement(r.Table,{columns:this.state.columns,loading:this.props.tableData.loading,dataSource:this.props.tableData.data,pagination:this.props.tableData.pagination})}});e.exports=i},1352:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=a(600),l=n(s),r=a(783),i=l.default.createClass({displayName:"App",getInitialState:function(){return{columns:[{title:"日期",key:"0",className:"ta_c",dataIndex:"date"},{title:"日增用户数",key:"1",className:"ta_r",dataIndex:"dailyNew"},{title:"在线峰值用户数",key:"2",className:"ta_r",dataIndex:"dailyPeak"},{title:"日联网用户数",key:"3",className:"ta_r",dataIndex:"dailyUsers"},{title:"累计注册用户数",className:"ta_r",key:"4",dataIndex:"totalUsers"}],refresh:!1}},render:function(){return l.default.createElement(r.Table,{columns:this.state.columns,loading:this.props.tableData.loading,dataSource:this.props.tableData.data,pagination:this.props.tableData.pagination})}});e.exports=i},1353:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=a(600),l=n(s),r=a(783),i=a(1354),u=n(i),d=l.default.createClass({displayName:"App",getInitialState:function(){return{columns:[{title:"日期",key:"0",className:"ta_c",dataIndex:"date"},{title:l.default.createElement(u.default,{text:"推送率"}),key:"1",className:"ta_c",dataIndex:"pushRate"},{title:l.default.createElement(u.default,{text:"送达率"}),key:"2",className:"ta_c",dataIndex:"deliverRate"},{title:l.default.createElement(u.default,{text:"到达率"}),key:"3",className:"ta_c",dataIndex:"arriveRate"}],refresh:!1}},render:function(){return l.default.createElement(r.Table,{columns:this.state.columns,loading:this.props.tableData.loading,dataSource:this.props.tableData.data,pagination:this.props.tableData.pagination})}});e.exports=d},1354:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=a(600),l=n(s),r=a(783),i=l.default.createClass({displayName:"Info",render:function(){var e=this,t=[{text:"推送率",title:"推送数/有效数*100%。衡量推送平台的推送效率"},{text:"送达率",title:"接收数/推送数*100%。接收数为平台推送出去之后，成功接收消息的设备量，推送数为Push平台实际下发推送的数量；送达率衡量推送消息用户的接收率"},{text:"到达率",title:"到达数/接收数*100%。到达数为消息从push服务到达APP的数量。衡量pushSDK转发消息的稳定性"}],a=t.map(function(t){return t.text===e.props.text?t.title:""});return l.default.createElement("span",null,l.default.createElement(r.Tooltip,{title:a},l.default.createElement(r.Icon,{className:"fs14 color999 fw_n cursor_p",type:"info-circle-o"})),this.props.text)}});e.exports=i}});