webpackJsonp([18],{1360:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=a(600),r=l(n),o=a(783),u=a(1361),i=l(u),s=a(1362),d=l(s),c=a(1363),m=l(c),p=a(776),f=l(p),h=a(777),g=l(h),v=a(785),b=l(v),E=o.Select.Option,I=r.default.createClass({displayName:"App",getInitialState:function(){return{current:1,moduleId:"",tableData:{loading:!0,data:[],pagination:null}}},moduleListData:function(){var e=f.default.listModule,t=this;b.default.get(e,function(e){var a=e.value;if(!a)return null;var l=a.map(function(e,t){return r.default.createElement(E,{value:String(e.id),key:t},e.name)});t.setState({optionsDom:l});var n={index:1};t.tableData(n)})},tableData:function(e){var t=this;this.setState({tableData:{loading:!0}});var a=f.default.listModuleUrl;a=g.default.makeUrl(a,e),b.default.get(a,function(a){var l=a.value.result;l.map(function(e,t){l[t].key=t}),t.setState({tableData:{data:l,loading:!1,pagination:{total:a.value.amount,current:e.index||t.state.current,pageSize:10,showSizeChanger:!1,onChange:function(e){var a={index:e},l=t.state.moduleId;l&&""!==l&&(a.moduleId=l),t.setState({current:e}),t.tableData(a)}}}})})},changeModuleId:function(e){this.setState({moduleId:e})},componentDidMount:function(){this.moduleListData()},render:function(){return r.default.createElement("div",null,r.default.createElement(m.default,{changeModuleId:this.changeModuleId,onSearch:this.tableData,optionsDom:this.state.optionsDom}),r.default.createElement(i.default,{moduleId:this.state.moduleId,changeModuleId:this.changeModuleId,onSearch:this.tableData,optionsDom:this.state.optionsDom}),r.default.createElement(d.default,{moduleId:this.state.moduleId,onSearch:this.tableData,current:this.state.current,refresh:this.state.refresh,tableData:this.state.tableData}))}});e.exports=I},1361:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=a(600),r=l(n),o=a(783),u=o.Form.Item,i=o.Select.Option,s=r.default.createClass({displayName:"AddAppTask",getInitialState:function(){return{}},handleSubmit:function(){var e=this,t=this.props.moduleId,a={index:1};t&&""!==t&&(a.moduleId=t),e.props.onSearch(a)},selectType:function(e){this.props.changeModuleId(e)},render:function(){var e=this.props.optionsDom;return e?r.default.createElement(o.Form,{horizontal:!0},r.default.createElement(o.Row,{className:"home_toolbar pmc_title"},r.default.createElement(o.Col,{span:"3"},r.default.createElement(u,{label:""},r.default.createElement(o.Select,{defaultValue:this.props.moduleId,value:this.props.moduleId,style:{width:150},onSelect:this.selectType,showSearch:!0,notFoundContent:"无数据",searchPlaceholder:"搜索模块名称"},r.default.createElement(i,{value:"",key:"-1"},"全部模块"),e))),r.default.createElement(o.Col,{span:"6"},r.default.createElement(u,{label:""},r.default.createElement(o.Button,{className:"ml10",type:"primary",onClick:this.handleSubmit,size:"large"},"查询"))))):null}});s=o.Form.create()(s),e.exports=s},1362:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var r=a(600),o=l(r),u=a(783),i=a(776),s=l(i),d=a(785),c=l(d),m=o.default.createClass({displayName:"App",togglePopover:function(e){this.setState(n({},"visible"+e,!this.state["visible"+e]))},getContent:function(e){return o.default.createElement("div",null,o.default.createElement(u.Button,{type:"primary",className:"color_bg mr10",onClick:this.togglePopover.bind(this,e)},"取消"),o.default.createElement(u.Button,{onClick:this.delOk.bind(this,e)},"确定"))},delOk:function(e){var t=this;c.default.post(s.default.deleteModuleUrl,{id:e},function(){u.message.success("模块配置删除成功"),t.togglePopover(e);var a=t.props.moduleId,l={index:t.props.current};a&&""!==a&&(l.moduleId=a),t.props.onSearch(l)})},getInitialState:function(){var e=this;return{columns:[{title:"模块名称",key:"0",className:"ta_l",dataIndex:"moduleName"},{title:"URL地址",key:"1",className:"ta_l",dataIndex:"url"},{title:"操作",className:"ta_c",key:"2",render:function(t,a){var l=a.id;return o.default.createElement(u.Tooltip,{title:"删除"},o.default.createElement(u.Popover,{placement:"bottom",visible:e.state["visible"+l],content:e.getContent(l),title:"确定删除URL地址?",onVisibleChange:e.togglePopover.bind(e,l),trigger:"click"},o.default.createElement("i",{className:"i_del"})))},dataIndex:""}],refresh:!1}},render:function(){var e=this.props.tableData.data;return e&&0!==e.length?o.default.createElement(u.Table,{columns:this.state.columns,loading:this.props.tableData.loading,dataSource:e,pagination:this.props.tableData.pagination}):null}});e.exports=m},1363:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r=a(600),o=l(r),u=a(783),i=a(776),s=l(i),d=a(777),c=l(d),m=a(785),p=l(m),f=u.Form.Item,h=o.default.createClass({displayName:"App",getInitialState:function(){return{}},handleSubmit:function(){var e=this;this.props.form.validateFields(function(t,a){if(t)return console.log(t),void console.log("Errors in form!!!");var l=s.default.addModuleUrl,n=a.moduleId;l=c.default.makeUrl(l,{moduleId:n,url:a.url}),p.default.get(l,function(){u.message.success("新增成功"),e.props.onSearch({moduleId:n,index:1}),e.props.changeModuleId(n)})})},validate:function(e,t){var a=this.props.form.getFieldProps;return a(e,{validate:[{rules:[{required:!0,message:t}],trigger:["onBlur","onChange"]}]})},render:function(){var e=this.props.optionsDom;return e?o.default.createElement("div",null,o.default.createElement(u.Form,{horizontal:!0},o.default.createElement(u.Row,null,o.default.createElement(u.Col,{span:"24"},o.default.createElement(f,{labelCol:{span:2},wrapperCol:{span:7},label:"模块名称    "},o.default.createElement(u.Select,n({style:{width:150}},this.validate("moduleId","请选择模块名称"),{showSearch:!0,notFoundContent:"无数据",searchPlaceholder:"搜索模块名称"}),e)))),o.default.createElement(u.Row,null,o.default.createElement(u.Col,{span:"24"},o.default.createElement(f,{labelCol:{span:2},wrapperCol:{span:20},label:"URL地址    "},o.default.createElement(u.Input,n({style:{width:500}},this.validate("url","请输入URL地址")))))),o.default.createElement(u.Row,null,o.default.createElement(u.Col,{span:"12"},o.default.createElement(f,{labelCol:{span:4},wrapperCol:{span:20},label:" "},o.default.createElement(u.Button,{type:"primary",onClick:this.handleSubmit,size:"large"},"新增")))))):null}});h=u.Form.create()(h),e.exports=h}});